{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAgG;AACrB;AAClB;AACpB;AACwB;AAEtC;AAER,SAASU,IAAIA,CAAEC,KAAK,EAAG;EAClC,IAAI;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGF,KAAK;EAEzC,MAAM,CAAEG,YAAY,EAAEC,eAAe,CAAE,GAAGT,4DAAQ,CAAC,MAAM,CAAC;EAC1D,MAAM,CAAEU,QAAQ,EAAEC,WAAW,CAAE,GAAGX,4DAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAAEY,MAAM,EAAEC,SAAS,CAAE,GAAGb,4DAAQ,CAAC,YAAY,CAAC;EACpD,MAAM,CAAEc,UAAU,EAAEC,aAAa,CAAE,GAAGf,4DAAQ,CAAC,EAAE,CAAC;EAEpD,MAAM;IAAEgB;EAAmB,CAAC,GAAGC,oBAAoB;EAEjDhB,6DAAS,CAAC,MAAM;IACZQ,eAAe,CAACH,UAAU,CAACE,YAAY,CAAC;IACxCG,WAAW,CAACL,UAAU,CAACI,QAAQ,CAAC;IACpCG,SAAS,CAACP,UAAU,CAACM,MAAM,CAAC;IACxBG,aAAa,CAACT,UAAU,CAACQ,UAAU,CAAC;EACxC,CAAC,CAAC;EAEF,MAAMI,aAAa,GAAG,CAClB;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAe,CAAC,EACpC;IAAED,KAAK,EAAE,iDAAiD;IAAEC,KAAK,EAAE;EAAgB,CAAC,EACpF;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAC1C;IAAED,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE;EAAW,CAAC,EAChD;IAAED,KAAK,EAAE,cAAc;IAAEC,KAAK,EAAE;EAAoB,CAAC,EACrD;IAAED,KAAK,EAAE,sBAAsB;IAAEC,KAAK,EAAE;EAAY,CAAC,EACrD;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAW,CAAC,EAC9C;IAAED,KAAK,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAY,CAAC,EAC9C;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAe,CAAC,EAClD;IAAED,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE;EAAwB,CAAC,EAC7D;IAAED,KAAK,EAAE,kBAAkB;IAAEC,KAAK,EAAE;EAAqB,CAAC,CAC7D;EAED,SAASC,oBAAoBA,CAAEF,KAAK,EAAG;IACnCV,eAAe,CAACU,KAAK,CAAC;IACtBZ,aAAa,CAAE;MAAEC,YAAY,EAAEW;IAAM,CAAC,CAAE;EAC5C;EAEA,SAASG,gBAAgBA,CAAEH,KAAK,EAAG;IAC/BR,WAAW,CAACY,QAAQ,CAACJ,KAAK,CAAC,CAAC;IAC5BZ,aAAa,CAAE;MAAEG,QAAQ,EAAEa,QAAQ,CAACJ,KAAK;IAAE,CAAC,CAAE;EAClD;EAEA,SAASK,kBAAkBA,CAAEC,aAAa,EAAEC,SAAS,EAAG;IACpD,IAAIC,WAAW,GAAG,CAAC,GAAGb,UAAU,CAAC;IAEjC,IAAGY,SAAS,EAAE;MACVC,WAAW,GAAG,CAAC,GAAGb,UAAU,EAAEW,aAAa,CAAC;IAChD,CAAC,MAAM;MACHE,WAAW,CAACC,MAAM,CAACd,UAAU,CAACe,OAAO,CAACJ,aAAa,CAAC,EAAC,CAAC,CAAC;IAC3D;IAEAV,aAAa,CAACY,WAAW,CAAC;IAC1BpB,aAAa,CAAE;MAAEO,UAAU,EAAEa;IAAY,CAAC,CAAE;EAChD;EAEF,SAASG,cAAcA,CAAElB,MAAM,EAAG;IACjCC,SAAS,CAAED,MAAM,CAAE;IACnBL,aAAa,CAAE;MAAEK;IAAO,CAAC,CAAE;EAC5B;EAEE,OACImB,iEAAA,QAAUhC,sEAAa,EAAE,EACrBgC,iEAAA,CAACjC,sEAAiB,QACdiC,iEAAA,CAAClC,4DAAS;IAACmC,KAAK,EAAC,iCAAiC;IAACC,WAAW,EAAE;EAAK,GACjEF,iEAAA;IAAKG,SAAS,EAAC;EAAqB,GAChCH,iEAAA,CAACpC,+DAAY;IACTyB,KAAK,EAAC,eAAe;IACrBe,QAAQ,EAAG3B,YAAc;IACzB4B,OAAO,EAAG,CACN;MAAEhB,KAAK,EAAE,MAAM;MAAED,KAAK,EAAE;IAAO,CAAC,EAChC;MAAEC,KAAK,EAAE,QAAQ;MAAED,KAAK,EAAE;IAAS,CAAC,CACrC;IACHkB,QAAQ,EAAGhB;EAAsB,EACnC,CACA,EAENU,iEAAA;IAAKG,SAAS,EAAC;EAAqB,GAChCH,iEAAA,CAACrC,gEAAa;IACV0B,KAAK,EAAC,iBAAiB;IACvBD,KAAK,EAAGT,QAAU;IAClB0B,OAAO,EAAE,CACL;MAAEhB,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAE,CAAC,EACtB;MAAEC,KAAK,EAAE,CAAC;MAAED,KAAK,EAAE;IAAC,CAAC,EACrB;MAAEC,KAAK,EAAE,EAAE;MAAED,KAAK,EAAE;IAAG,CAAC,CAC1B;IACFkB,QAAQ,EAAGf;EAAkB,EAC/B,CACA,EAEdN,kBAAkB,IACnBe,iEAAA;IAAKG,SAAS,EAAC;EAAqB,GAClCH,iEAAA;IAAIG,SAAS,EAAC;EAA2B,GAAGhC,mDAAE,CAAE,iBAAiB,EAAE,wBAAwB,CAAE,CAAO,EAEpG6B,iEAAA,CAACpC,+DAAY;IACXyB,KAAK,EAAGlB,mDAAE,CAAE,iBAAiB,EAAE,wBAAwB,CAAI;IAC3DoC,mBAAmB,EAAG,IAAM;IAC5BH,QAAQ,EAAGvB,MAAQ;IACnBwB,OAAO,EAAG,CACR;MAAEhB,KAAK,EAAElB,mDAAE,CAAE,oBAAoB,EAAE,iBAAiB,CAAE;MAAEiB,KAAK,EAAE;IAAa,CAAC,EAC7E;MAAEC,KAAK,EAAElB,mDAAE,CAAE,kBAAkB,EAAE,iBAAiB,CAAE;MAAEiB,KAAK,EAAE;IAAmB,CAAC,EACjF;MAAEC,KAAK,EAAElB,mDAAE,CAAE,4BAA4B,EAAE,iBAAiB,CAAE;MAAEiB,KAAK,EAAE;IAAM,CAAC,CAC7E;IACHkB,QAAQ,EAAGP;EAAgB,EAC3B,CAEJ,EAESC,iEAAA;IAAKG,SAAS,EAAC;EAAqB,GAChCH,iEAAA;IAAOG,SAAS,EAAC;EAA2B,GAAC,YAAU,CAAQ,EAC7DhB,aAAa,CAACqB,GAAG,CACdC,QAAQ,IACLT,iEAAA,CAACnC,kEAAe;IACZ6C,GAAG,EAAGD,QAAQ,CAACrB,KAAO;IACtBC,KAAK,EAAGoB,QAAQ,CAACpB,KAAO;IACxBD,KAAK,EAAGqB,QAAQ,CAACrB,KAAO;IACxBuB,OAAO,EAAG5B,UAAU,CAACe,OAAO,CAACW,QAAQ,CAACrB,KAAK,CAAC,KAAK,CAAC,CAAG;IACrDkB,QAAQ,EAAGM,GAAG,IAAInB,kBAAkB,CAACgB,QAAQ,CAACrB,KAAK,EAAEwB,GAAG;EAAG,EAElE,CACJ,CACC,CACE,CACI,EACpBZ,iEAAA,CAAC5B,sEAAgB;IACbyC,KAAK,EAAC,wBAAwB;IAC9BtC,UAAU,EAAGD,KAAK,CAACC;EAAY,EACjC,CACA;AAEd;;;;;;;;;;;AChJA;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;ACNsD;AACuC;AAEnE;AAE1BuC,oEAAiB,CAAE,wBAAwB,EAAE;EACzCb,KAAK,EAAE,wBAAwB;EAC/BiB,IAAI,EAAE,oBAAoB;EAC1BC,QAAQ,EAAE,YAAY;EACtB5C,UAAU,EAAE;IACRE,YAAY,EAAE;MACV2C,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAE;IACb,CAAC;IACD1C,QAAQ,EAAE;MACNyC,IAAI,EAAE,SAAS;MACfC,OAAO,EAAE;IACb,CAAC;IACLxC,MAAM,EAAE;MACNuC,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAE;IACX,CAAC;IACGtC,UAAU,EAAE;MACRqC,IAAI,EAAE,OAAO;MACbC,OAAO,EAAE;IACb;EACJ,CAAC;EACDC,IAAI,EAAEjD,6CAAI;EACVkD,IAAI,EAAEA,CAAA,KAAM;AAChB,CAAC,CAAE,C","sources":["webpack://openlab-activity-block/./block/src/edit.js","webpack://openlab-activity-block/./block/src/editor.scss?8912","webpack://openlab-activity-block/external window [\"wp\",\"blockEditor\"]","webpack://openlab-activity-block/external window [\"wp\",\"blocks\"]","webpack://openlab-activity-block/external window [\"wp\",\"components\"]","webpack://openlab-activity-block/external window [\"wp\",\"element\"]","webpack://openlab-activity-block/external window [\"wp\",\"i18n\"]","webpack://openlab-activity-block/external window [\"wp\",\"serverSideRender\"]","webpack://openlab-activity-block/webpack/bootstrap","webpack://openlab-activity-block/webpack/runtime/compat get default export","webpack://openlab-activity-block/webpack/runtime/define property getters","webpack://openlab-activity-block/webpack/runtime/hasOwnProperty shorthand","webpack://openlab-activity-block/webpack/runtime/make namespace object","webpack://openlab-activity-block/./block/src/index.js"],"sourcesContent":["import { SelectControl, RadioControl, CheckboxControl, PanelBody } from '@wordpress/components';\nimport { InspectorControls, useBlockProps } from \"@wordpress/block-editor\";\nimport { useState, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport ServerSideRender from '@wordpress/server-side-render';\n\nimport './editor.scss';\n\nexport default function Edit( props ) {\n    let { attributes, setAttributes } = props;\n\n    const [ displayStyle, setDisplayStyle ] = useState('full');\n    const [ numItems, setNumItems ] = useState(5);\n    const [ source, setSource ] = useState('this-group');\n    const [ activities, setActivities ] = useState([]);\n\n\t\tconst { connectionsEnabled } = OpenLabActivityBlock\n\n    useEffect(() => {\n        setDisplayStyle(attributes.displayStyle);\n        setNumItems(attributes.numItems);\n\t\t\t\tsetSource(attributes.source);\n        setActivities(attributes.activities);\n    });\n\n    const allActivities = [\n        { value: '', label: 'All Activity' },\n        { value: 'created_announcement,created_announcement_reply', label: 'Announcements' },\n        { value: 'new_blog_post', label: 'Posts' },\n        { value: 'new_blog_comment', label: 'Comments' },\n        { value: 'joined_group', label: 'Group Memberships' },\n        { value: 'added_group_document', label: 'New Files' },\n        { value: 'bp_doc_created', label: 'New Docs' },\n        { value: 'bp_doc_edited', label: 'Doc Edits' },\n        { value: 'bp_doc_comment', label: 'Doc Comments' },\n        { value: 'bbp_topic_create', label: 'New Discussion Topics' },\n        { value: 'bbp_reply_create', label: 'Discussion Replies' }\n    ];\n\n    function onChangeDisplayStyle( value ) {\n        setDisplayStyle(value);\n        setAttributes( { displayStyle: value } );\n    }\n\n    function onChangeNumItems( value ) {\n        setNumItems(parseInt(value));\n        setAttributes( { numItems: parseInt(value) } );\n    }\n\n    function onChangeActivities( activityValue, isChecked ) {\n        var checkedList = [...activities];\n\n        if(isChecked) {\n            checkedList = [...activities, activityValue];\n        } else {\n            checkedList.splice(activities.indexOf(activityValue),1);\n        }\n\n        setActivities(checkedList);\n        setAttributes( { activities: checkedList } );\n    }\n\n\t\tfunction onChangeSource( source ) {\n\t\t\tsetSource( source )\n\t\t\tsetAttributes( { source } )\n\t\t}\n\n    return (\n        <div { ...useBlockProps() }>\n            <InspectorControls>\n                <PanelBody title=\"OpenLab Activity Block Settings\" initialOpen={true}>\n                    <div className=\"olab-ic-field-group\">\n                        <RadioControl\n                            label=\"Display Style\"\n                            selected={ displayStyle }\n                            options={ [\n                                { label: 'Full', value: 'full' },\n                                { label: 'Simple', value: 'simple' }\n                            ] }\n                            onChange={ onChangeDisplayStyle }\n                        />\n                    </div>\n\n                    <div className=\"olab-ic-field-group\">\n                        <SelectControl\n                            label=\"Number of items\"\n                            value={ numItems }\n                            options={[\n                                { label: 1, value: 1 },\n                                { label: 2, value: 2 },\n                                { label: 3, value: 3 },\n                                { label: 4, value: 4 },\n                                { label: 5, value: 5 },\n                                { label: 6, value: 6 },\n                                { label: 7, value: 7 },\n                                { label: 7, value: 7 },\n                                { label: 8, value: 8 },\n                                { label: 9, value: 9},\n                                { label: 10, value: 10 }\n                            ]}\n                            onChange={ onChangeNumItems }\n                        />\n                    </div>\n\n\t\t\t\t\t\t\t\t\t\t{ connectionsEnabled && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"olab-ic-field-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className='olab-ic-field-group-label'>{ __( 'Activity Source', 'openlab-activity-block' ) }</h3>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Activity Source', 'openlab-activity-block' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabelFromVision={ true }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={ source }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ label: __( 'Current group only', 'openlab-modules' ), value: 'this-group' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ label: __( 'Connected groups', 'openlab-modules' ), value: 'connected-groups' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ label: __( 'Current + connected groups', 'openlab-modules' ), value: 'all' }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ onChangeSource }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t) }\n\n                    <div className=\"olab-ic-field-group\">\n                        <label className='olab-ic-field-group-label'>Activities</label>\n                        { allActivities.map(\n                            (activity) => (\n                                <CheckboxControl\n                                    key={ activity.value }\n                                    label={ activity.label }\n                                    value={ activity.value }\n                                    checked={ activities.indexOf(activity.value) !== -1 }\n                                    onChange={ val => onChangeActivities(activity.value, val) }\n                                />\n                            )\n                        ) }\n                    </div>\n                </PanelBody>\n            </InspectorControls>\n            <ServerSideRender\n                block=\"openlab/activity-block\"\n                attributes={ props.attributes }\n            />\n        </div>\n    )\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"serverSideRender\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport { useBlockProps, RichText, MediaUpload,  InnerBlocks } from '@wordpress/block-editor';\n\nimport Edit from './edit';\n\nregisterBlockType( 'openlab/activity-block', {\n    title: 'OpenLab Activity Block',\n    icon: 'buddicons-activity',\n    category: 'buddypress',\n    attributes: {\n        displayStyle: {\n            type: 'string',\n            default: 'full'\n        },\n        numItems: {\n            type: 'integer',\n            default: 5\n        },\n\t\t\t\tsource: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdefault: 'this-group'\n\t\t\t\t},\n        activities: {\n            type: 'array',\n            default: []\n        }\n    },\n    edit: Edit,\n    save: () => null\n} );\n"],"names":["SelectControl","RadioControl","CheckboxControl","PanelBody","InspectorControls","useBlockProps","useState","useEffect","__","ServerSideRender","Edit","props","attributes","setAttributes","displayStyle","setDisplayStyle","numItems","setNumItems","source","setSource","activities","setActivities","connectionsEnabled","OpenLabActivityBlock","allActivities","value","label","onChangeDisplayStyle","onChangeNumItems","parseInt","onChangeActivities","activityValue","isChecked","checkedList","splice","indexOf","onChangeSource","createElement","title","initialOpen","className","selected","options","onChange","hideLabelFromVision","map","activity","key","checked","val","block","registerBlockType","RichText","MediaUpload","InnerBlocks","icon","category","type","default","edit","save"],"sourceRoot":""}